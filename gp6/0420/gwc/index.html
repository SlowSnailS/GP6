<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="style/index.css">
</head>
<body>
	
	<div class="car">
		<span>10</span>
	</div>
	
	<header>
		<h2>购物车</h2>
	</header>
	<div class="goodsList">
		<ul id="wrap">
			<!-- <li class="goods">
				<img src="https://img3.doubanio.com/view/photo/s_ratio_poster/public/p480747492.webp"
 alt="">
				<h5>肖申克的救赎</h5>
				<h6>犯罪</h6>
				<button>加入购物车</button>
			</li> -->
		</ul>

	</div>

	<script src="data/data.js"></script>
	<script>	
		// console.log(json);
		function rendering(json,root){
			//根据json去渲染页面;
			var dataList,//商品列表;
				item,    //每一条商品;
				frag,     //文档容器;
				//html结构;
				button,
				h6,
				h5,
				img,
				li

			dataList = json.subjects;
			// console.log(dataList)
			frag = document.createDocumentFragment();
			for(var i = 0 ; i < dataList.length ; i++){
				item = dataList[i];

				//创建结构;
				li = cE("li");
				img = cE("img");
				h5 = cE("h5");
				h6 = cE("h6");
				button = cE("button");

				li.appendChild(img);
				li.appendChild(h5);
				li.appendChild(h6);
				li.appendChild(button);

				// 改变结构内容;
				li.className = "goods";
				img.src = item.images.small;
				h5.innerHTML = item.title;
				h6.innerHTML = item.genres;
				button.innerHTML = "加入购物车";
				
				button.setAttribute("data-id",item.id);
				// console.log(li);
				frag.appendChild(li);
			}
			// console.log(frag)
			root.appendChild(frag);
		}

		function cE(tag){ //创建元素的方法;
			return document.createElement(tag);
		}
		var oWrap = document.getElementById("wrap")
		rendering(json,oWrap)

	</script>
</body>
</html>